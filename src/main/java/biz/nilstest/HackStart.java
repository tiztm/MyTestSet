package biz.nilstest;

import core.util.HTMLUtil;
import core.util.HttpclientUtil;

/**
 * Created by IDEA
 * User:    tiztm
 * Date:    2016/11/30.
 */
public class HackStart {

    public static String ips = "202.102.108.1: 80\n" +
            "202.102.108.2: 8080\n" +
            "202.102.108.3: 8080\n" +
            "202.102.108.4: 3306\n" +
            "202.102.108.5: 3306\n" +
            "202.102.108.10: 3389\n" +
            "202.102.108.11: 80\n" +
            "202.102.108.11: 8080\n" +
            "202.102.108.11: 3306\n" +
            "202.102.108.12: 3306\n" +
            "202.102.108.13: 3389\n" +
            "202.102.108.14: 8080\n" +
            "202.102.108.15: 8080\n" +
            "202.102.108.16: 80\n" +
            "202.102.108.16: 1521\n" +
            "202.102.108.17: 3389\n" +
            "202.102.108.18: 3306\n" +
            "202.102.108.19: 3306\n" +
            "202.102.108.21: 80\n" +
            "202.102.108.22: 3389\n" +
            "202.102.108.22: 3306\n" +
            "202.102.108.25: 3389\n" +
            "202.102.108.28: 80\n" +
            "202.102.108.31: 3389\n" +
            "202.102.108.32: 3389\n" +
            "202.102.108.33: 80\n" +
            "202.102.108.33: 3389\n" +
            "202.102.108.35: 80\n" +
            "202.102.108.35: 1521\n" +
            "202.102.108.36: 80\n" +
            "202.102.108.36: 1521\n" +
            "202.102.108.38: 80\n" +
            "202.102.108.41: 80\n" +
            "202.102.108.44: 3306\n" +
            "202.102.108.45: 80\n" +
            "202.102.108.46: 80\n" +
            "202.102.108.46: 3389\n" +
            "202.102.108.46: 3306\n" +
            "202.102.108.47: 1521\n" +
            "202.102.108.49: 1521\n" +
            "202.102.108.49: 3389\n" +
            "202.102.108.50: 3389\n" +
            "202.102.108.51: 80\n" +
            "202.102.108.51: 1521\n" +
            "202.102.108.51: 3389\n" +
            "202.102.108.52: 80\n" +
            "202.102.108.53: 80\n" +
            "202.102.108.54: 3306\n" +
            "202.102.108.55: 3389\n" +
            "202.102.108.59: 80\n" +
            "202.102.108.60: 80\n" +
            "202.102.108.61: 80\n" +
            "202.102.108.62: 80\n" +
            "202.102.108.84: 444\n" +
            "202.102.108.84: 443\n" +
            "202.102.108.84: 443\n" +
            "202.102.108.85: 443\n" +
            "202.102.108.85: 444\n" +
            "202.102.108.85: 443\n" +
            "202.102.108.139: 3306\n" +
            "202.102.108.140: 80\n" +
            "202.102.108.140: 443\n" +
            "202.102.108.169: 8080\n" +
            "202.102.108.195: 442\n" +
            "\n" +
            "\n" +
            "202.102.101.1: 80\n" +
            "202.102.101.2: 80\n" +
            "202.102.101.3: 80\n" +
            "202.102.101.4: 80\n" +
            "202.102.101.4: 443\n" +
            "202.102.101.4: 443\n" +
            "202.102.101.6: 80\n" +
            "202.102.101.6: 443\n" +
            "202.102.101.6: 443\n" +
            "202.102.101.9: 80\n" +
            "202.102.101.9: 443\n" +
            "202.102.101.9: 443\n" +
            "202.102.101.11: 8080\n" +
            "202.102.101.11: 3389\n" +
            "202.102.101.13: 1521\n" +
            "202.102.101.14: 1521\n" +
            "202.102.101.14: 3389\n" +
            "202.102.101.15: 1521\n" +
            "202.102.101.15: 3389\n" +
            "202.102.101.17: 3389\n" +
            "202.102.101.23: 80\n" +
            "202.102.101.23: 3389\n" +
            "202.102.101.23: 3306\n" +
            "202.102.101.25: 8080\n" +
            "202.102.101.25: 3389\n" +
            "202.102.101.26: 8080\n" +
            "202.102.101.27: 8080\n" +
            "202.102.101.28: 3306\n" +
            "202.102.101.33: 8080\n" +
            "202.102.101.33: 1521\n" +
            "202.102.101.33: 3389\n" +
            "202.102.101.36: 3389\n" +
            "202.102.101.37: 3389\n" +
            "202.102.101.40: 8080\n" +
            "202.102.101.40: 3389\n" +
            "202.102.101.41: 3389\n" +
            "202.102.101.46: 80\n" +
            "202.102.101.46: 1521\n" +
            "202.102.101.46: 3389\n" +
            "202.102.101.47: 3306\n" +
            "202.102.101.48: 8080\n" +
            "202.102.101.51: 1521\n" +
            "202.102.101.51: 3306\n" +
            "202.102.101.53: 80\n" +
            "202.102.101.53: 3389\n" +
            "202.102.101.53: 3306\n" +
            "202.102.101.54: 1521\n" +
            "202.102.101.54: 3389\n" +
            "202.102.101.54: 3306\n" +
            "202.102.101.55: 3389\n" +
            "202.102.101.55: 3306\n" +
            "202.102.101.57: 3389\n" +
            "202.102.101.58: 3389\n" +
            "202.102.101.59: 80\n" +
            "202.102.101.59: 3389\n" +
            "202.102.101.60: 80\n" +
            "202.102.101.60: 3306\n" +
            "202.102.101.60: 3389\n" +
            "202.102.101.61: 80\n" +
            "202.102.101.61: 3389\n" +
            "202.102.101.62: 80\n" +
            "202.102.101.62: 443\n" +
            "202.102.101.62: 443\n" +
            "202.102.101.62: 3389\n" +
            "202.102.101.62: 3306\n" +
            "202.102.101.65: 80\n" +
            "202.102.101.65: 3389\n" +
            "202.102.101.66: 3389\n" +
            "202.102.101.67: 3389\n" +
            "202.102.101.69: 1521\n" +
            "202.102.101.69: 3389\n" +
            "202.102.101.70: 80\n" +
            "202.102.101.69: 3306\n" +
            "202.102.101.70: 3389\n" +
            "202.102.101.70: 3306\n" +
            "202.102.101.73: 80\n" +
            "202.102.101.73: 3389\n" +
            "202.102.101.74: 80\n" +
            "202.102.101.74: 3306\n" +
            "202.102.101.74: 3389\n" +
            "202.102.101.75: 3306\n" +
            "202.102.101.76: 3306\n" +
            "202.102.101.77: 80\n" +
            "202.102.101.77: 3389\n" +
            "202.102.101.77: 3306\n" +
            "202.102.101.78: 3306\n" +
            "202.102.101.80: 80\n" +
            "202.102.101.80: 443\n" +
            "202.102.101.80: 443\n" +
            "202.102.101.80: 3389\n" +
            "202.102.101.80: 3306\n" +
            "202.102.101.81: 80\n" +
            "202.102.101.81: 3389\n" +
            "202.102.101.81: 3306\n" +
            "202.102.101.84: 80\n" +
            "202.102.101.84: 3389\n" +
            "202.102.101.85: 80\n" +
            "202.102.101.85: 1521\n" +
            "202.102.101.85: 3389\n" +
            "202.102.101.86: 80\n" +
            "202.102.101.86: 3389\n" +
            "202.102.101.86: 3306\n" +
            "202.102.101.87: 3389\n" +
            "202.102.101.87: 3306\n" +
            "202.102.101.92: 1521\n" +
            "202.102.101.93: 3306\n" +
            "202.102.101.94: 3306\n" +
            "202.102.101.95: 3306\n" +
            "202.102.101.96: 8080\n" +
            "202.102.101.101: 3389\n" +
            "202.102.101.103: 3306\n" +
            "202.102.101.104: 1521\n" +
            "202.102.101.104: 3389\n" +
            "202.102.101.104: 3306\n" +
            "202.102.101.105: 3389\n" +
            "202.102.101.106: 3389\n" +
            "202.102.101.108: 3389\n" +
            "202.102.101.109: 3389\n" +
            "202.102.101.109: 3306\n" +
            "202.102.101.110: 3306\n" +
            "202.102.101.111: 3389\n" +
            "202.102.101.111: 3306\n" +
            "202.102.101.112: 3389\n" +
            "202.102.101.113: 3389\n" +
            "202.102.101.114: 80\n" +
            "202.102.101.114: 3389\n" +
            "202.102.101.115: 3389\n" +
            "202.102.101.116: 1521\n" +
            "202.102.101.116: 3389\n" +
            "202.102.101.117: 1521\n" +
            "202.102.101.117: 3389\n" +
            "202.102.101.118: 3389\n" +
            "202.102.101.119: 3389\n" +
            "202.102.101.120: 3389\n" +
            "202.102.101.121: 3389\n" +
            "202.102.101.122: 3389\n" +
            "202.102.101.123: 3306\n" +
            "202.102.101.124: 1521\n" +
            "202.102.101.124: 3389\n" +
            "202.102.101.125: 1521\n" +
            "202.102.101.125: 3389\n" +
            "202.102.101.125: 3306\n" +
            "202.102.101.126: 3389\n" +
            "202.102.101.126: 3306\n" +
            "202.102.101.127: 3389\n" +
            "202.102.101.128: 3389\n" +
            "202.102.101.130: 3306\n" +
            "202.102.101.131: 443\n" +
            "202.102.101.131: 8080\n" +
            "202.102.101.131: 443\n" +
            "202.102.101.138: 80\n" +
            "202.102.101.138: 3389\n" +
            "202.102.101.139: 80\n" +
            "202.102.101.139: 8080\n" +
            "202.102.101.140: 8080\n" +
            "202.102.101.141: 3306\n" +
            "202.102.101.142: 3306\n" +
            "202.102.101.143: 3389\n" +
            "202.102.101.144: 3306\n" +
            "202.102.101.145: 8080\n" +
            "202.102.101.145: 3306\n" +
            "202.102.101.147: 80\n" +
            "202.102.101.147: 8080\n" +
            "202.102.101.148: 80\n" +
            "202.102.101.151: 80\n" +
            "202.102.101.151: 8080\n" +
            "202.102.101.151: 3306\n" +
            "202.102.101.152: 3389\n" +
            "202.102.101.153: 3389\n" +
            "202.102.101.153: 3306\n" +
            "202.102.101.154: 3389\n" +
            "202.102.101.155: 80\n" +
            "202.102.101.155: 3389\n" +
            "202.102.101.156: 3389\n" +
            "202.102.101.156: 3306\n" +
            "202.102.101.157: 3389\n" +
            "202.102.101.158: 3306\n" +
            "202.102.101.167: 3389\n" +
            "202.102.101.167: 3306\n" +
            "202.102.101.171: 80\n" +
            "202.102.101.171: 3306\n" +
            "202.102.101.186: 3389\n" +
            "202.102.101.213: 80\n" +
            "202.102.101.236: 80\n" +
            "\n";

    public static void main(String[] args) {

        String[] split = ips.split("\n");


        for (int i = 0; i < split.length; i++) {


            String ip = split[i];

            if(ip.length()<1) continue;

            String[] ipinfo = ip.split(":");
            if(ipinfo.length!=2) continue;

            String realIp = ipinfo[0].trim();
            String duankou =  ipinfo[1].trim();

            //System.out.println(i+": ip"+                    realIp+" 端口:"+duankou);

            if(duankou.equals("80")||duankou.equals("8080"))
            {
                anaHttp(realIp+":"+duankou);
            }

        }

        System.out.println("my hack start");
    }

    public static void anaHttp(String realIp){
        try {
            String s = HttpclientUtil.get("http://" + realIp);

            s = s.replaceAll("\r","").replaceAll("\n","").replaceAll(" ","");

            String betweenString = HTMLUtil.getBetweenString(s, "<title>", "</title>"); //<title>鸿信天翼定位软件</title>
            //<title>综合办公－综合办公平台专家</title>



            System.out.print("发现服务："+realIp +" - ");

            if(betweenString.length()<1)
                System.out.println("复杂");//s);
            else
                System.out.println(betweenString);
        } catch (Exception e) {
           // e.printStackTrace();
        }

    }
}
